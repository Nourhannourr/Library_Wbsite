<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Book List by Category</title>
  <link rel="stylesheet" href="book_list.css">
</head>
<body>

  <header>
    <h1>Book List</h1>
  </header>

  <!-- Filter Section -->
  <section class="filter-section">
    <form id="filterForm">
      <input type="text" name="title" id="title" placeholder="Filter by Title">
      <input type="text" name="author" id="author" placeholder="Filter by Author">
      <select name="categoryFilter" id="categoryFilter">
        <option value="">All Categories</option>
        <option value="fiction">Fiction</option>
        <option value="nonfiction">Non Fiction</option>
        <option value="mystery">Mystery</option>
        <option value="sci-fi">Sci-Fi</option>
        <option value="romance">Romance</option>
        <option value="historical">Historical</option>
        <option value="horror">Horror</option>
        <option value="poetry">Poetry</option>
        <option value="psychology">Psychology</option>
        <option value="religion">Religion</option>
      </select>
      <button type="submit">Filter</button>
    </form>
  </section>

  <!-- Categories Section -->
  <section class="categories-container">

    <!-- Fiction Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('fiction')">Fiction</h2>
      <div id="fiction" class="book-list">
        <!-- Books for Fiction will appear here (currently empty) -->
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Non-Fiction Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('nonfiction')">Non Fiction</h2>
      <div id="nonfiction" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Mystery Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('mystery')">Mystery</h2>
      <div id="mystery" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Sci-Fi Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('sci-fi')">Sci-Fi</h2>
      <div id="sci-fi" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Romance Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('romance')">Romance</h2>
      <div id="romance" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Historical Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('historical')">Historical</h2>
      <div id="historical" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Horror Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('horror')">Horror</h2>
      <div id="horror" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Poetry Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('poetry')">Poetry</h2>
      <div id="poetry" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Psychology Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('psychology')">Psychology</h2>
      <div id="psychology" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

    <!-- Religion Category -->
    <div class="category-section">
      <h2 onclick="toggleSection('religion')">Religion</h2>
      <div id="religion" class="book-list">
        <p>No books available in this category.</p>
      </div>
    </div>

  </section>

  <script>
    // Toggle the display of the books list for a given category.
    function toggleSection(sectionId) {
      var section = document.getElementById(sectionId);
      if (section.style.display === "block") {
        section.style.display = "none";
      } else {
        section.style.display = "block";
      }
    }

    // Hide all book lists on page load.
    document.addEventListener("DOMContentLoaded", function() {
      var lists = document.querySelectorAll('.book-list');
      lists.forEach(function(list) {
        list.style.display = "none";
      });
    });

    // Example filter logic (expand or hook to backend data as needed)
    document.getElementById("filterForm").addEventListener("submit", function(e) {
      e.preventDefault();
      
      // Retrieve filter values.
      const titleFilter = document.getElementById("title").value.toLowerCase();
      const authorFilter = document.getElementById("author").value.toLowerCase();
      const categoryFilter = document.getElementById("categoryFilter").value.toLowerCase();

      // Hide all categories if a category filter is used.
      const categories = document.querySelectorAll('.category-section');
      categories.forEach(function(cat) {
        // Show this section only if it matches the filter (or if the filter is empty)
        if (categoryFilter === "" || cat.querySelector("h2").innerText.toLowerCase().includes(categoryFilter)) {
          cat.style.display = "block";
        } else {
          cat.style.display = "none";
        }
      });

      // You can further filter the book items inside each category if you add them dynamically.
    });
  </script>

</body>
</html>
